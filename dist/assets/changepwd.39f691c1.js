var F=Object.defineProperty,V=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var w=(s,e,o)=>e in s?F(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,c=(s,e)=>{for(var o in e||(e={}))v.call(e,o)&&w(s,o,e[o]);if(_)for(var o of _(e))R.call(e,o)&&w(s,o,e[o]);return s},f=(s,e)=>V(s,k(e));import{_ as $,a as j}from"./index.82c27d15.js";import{am as q,aq as y,u as B,r as C,t as x,d as n,e as A,n as E,w as r,b as N,E as p,j as a,k as U}from"./vendor.587c42d0.js";const G={name:"change_password",setup(){const s=q(null);y(),B();const e=C({token:"Bearer "+j("token")||"",adminForms:{old_password:"",new_password:""},rules:{old_password:[{required:"true",message:"\u539F\u5BC6\u7801\u5FC5\u987B",trigger:["change"]}],new_password:[{required:"true",message:"\u65B0\u5BC6\u7801\u5FC5\u987B",trigger:["change"]}]}}),o=()=>{s.value.validate(l=>{if(l){let u=N.put,d={old_password:e.adminForms.old_password,new_password:e.adminForms.new_password};if(d.old_password.length>10){p.error("\u5BC6\u7801\u4E0D\u80FD\u8D85\u8FC710\u4E2A\u5B57\u7B26");return}if(d.new_password.length>30){p.error("\u5BC6\u7801\u4E0D\u80FD\u8D85\u8FC730\u4E2A\u5B57\u7B26");return}u("/api/back/admins/changepwd",d).then(()=>{p.success("\u4FEE\u6539\u6210\u529F")})}})};return f(c({},x(e)),{adminRefs:s,submitAdd:o})}},M=U("\u7ACB\u5373\u4FEE\u6539");function O(s,e,o,l,u,d){const i=n("el-input"),m=n("el-form-item"),g=n("el-button"),h=n("el-form"),b=n("el-card");return A(),E(b,{style:{"min-height":"100%"}},{default:r(()=>[a(h,{model:s.adminForms,rules:s.rules,ref:"adminRefs","label-width":"100px"},{default:r(()=>[a(m,{label:"\u539F\u5BC6\u7801",prop:"old_password"},{default:r(()=>[a(i,{modelValue:s.adminForms.old_password,"onUpdate:modelValue":e[0]||(e[0]=t=>s.adminForms.old_password=t),placeholder:"\u8BF7\u8F93\u5165\u539F\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),a(m,{label:"\u65B0\u5BC6\u7801",prop:"new_password"},{default:r(()=>[a(i,{modelValue:s.adminForms.new_password,"onUpdate:modelValue":e[1]||(e[1]=t=>s.adminForms.new_password=t),placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),a(m,null,{default:r(()=>[a(g,{type:"primary",onClick:e[2]||(e[2]=t=>l.submitAdd())},{default:r(()=>[M]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}var H=$(G,[["render",O]]);export{H as default};

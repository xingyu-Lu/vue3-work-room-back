var x=Object.defineProperty,V=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var _=(t,o,n)=>o in t?x(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n,b=(t,o)=>{for(var n in o||(o={}))O.call(o,n)&&_(t,n,o[n]);if(h)for(var n of h(o))j.call(o,n)&&_(t,n,o[n]);return t},k=(t,o)=>V(t,N(o));import{W as y}from"./wangEditor.f10358a9.js";import{_ as A,a as H,c as I}from"./index.ba3393f8.js";import{am as v,aq as S,u as $,r as B,o as M,b as p,au as R,t as z,d as r,e as E,n as F,w as l,E as w,j as f,g as L,k as q,i as C}from"./vendor.4dad565f.js";const P={setup(){const t=v(null),o=v(null),n=S(),d=$(),{id:i}=n.query,c=B({token:"Bearer "+H("token")||"",id:i,briefForm:{content:""},rules:{content:[{required:!1,message:"\u5185\u5BB9\u5FC5\u987B",trigger:["change"]}]}});let e;M(()=>{e=new y(t.value),e.config.lineHeights=["1","1.15","1.5","2","2.5","3"],e.config.showLinkImg=!1,e.config.showLinkImgAlt=!1,e.config.showLinkImgHref=!1,e.config.uploadImgMaxSize=1*1024*1024,e.config.uploadImgMaxLength=1,e.config.uploadImgAccept=["jpg","jpeg","png","gif","bmp","webp"],e.config.uploadFileName="file",e.config.uploadImgHeaders={Authorization:c.token},e.config.uploadImgParams={basket:"img"},e.config.uploadImgHooks={customInsert:function(a,s){console.log("result",s),a(s.data.src)}},e.config.uploadImgServer=I,Object.assign(e.config,{onchange(){console.log("change")}}),e.config.uploadVideoServer=I,e.config.uploadVideoMaxSize=1*200*1024*1024,e.config.uploadVideoAccept=["mp4"],e.config.uploadVideoParams={basket:"video"},e.config.uploadVideoName="file",e.config.uploadVideoHeaders={Authorization:c.token},e.config.uploadVideoHooks={customInsert:function(a,s){console.log("customInsert",s),a(s.data.src)}},e.create(),i&&p.get(`/api/back/technicalOfficeOutpatientNews/${i}`).then(a=>{c.briefForm={content:a.data.content},e&&e.txt.html(a.data.content)})}),R(()=>{e.destroy(),e=null});const u=()=>{o.value.validate(a=>{if(a){let s=p.post,g={content:e.txt.html()},m="/api/back/technicalOfficeOutpatientNews";i&&(s=p.put,m=`/api/back/technicalOfficeOutpatientNews/${i}`),s(m,g).then(()=>{i?w.success("\u4FEE\u6539\u6210\u529F"):w.success("\u6DFB\u52A0\u6210\u529F"),d.push({path:"/technicaloffice-outpatient"})})}})};return k(b({},z(c)),{editor:t,outpatientRef:o,submitAdd:u})}},W={ref:"editor"};function D(t,o,n,d,i,c){const e=r("el-form-item"),u=r("el-button"),a=r("el-form"),s=r("el-card");return E(),F(s,{style:{"min-height":"100%"}},{default:l(()=>[f(a,{model:t.briefForm,rules:t.rules,ref:"outpatientRef","label-width":"100px",style:{"margin-top":"30px"}},{default:l(()=>[f(e,{label:"\u5185\u5BB9",prop:"content"},{default:l(()=>[L("div",W,null,512)]),_:1}),f(e,null,{default:l(()=>[f(u,{type:"primary",onClick:o[0]||(o[0]=g=>d.submitAdd())},{default:l(()=>[q(C(t.id?"\u7ACB\u5373\u4FEE\u6539":"\u7ACB\u5373\u521B\u5EFA"),1)]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})}var K=A(P,[["render",D]]);export{K as default};
